# 균형잡힌 세상 문제 풀이 및 설명

https://www.acmicpc.net/problem/4949

## 문제 이해
주어진 문제는 문자열 내의 괄호들이 균형잡힌 상태인지 확인하는 것입니다. 균형잡힌 문자열이란 여는 괄호와 닫는 괄호가 짝을 이루며 올바른 순서로 배치된 문자열을 의미합니다. 균형잡힌 문자열을 판별하기 위해 스택을 사용하여 괄호의 짝을 맞추는 방법을 이용할 수 있습니다.

## 입출력 조건
**입력 조건:**
- 입력은 여러 줄의 문자열로 구성되며, 각 문자열은 여는 소괄호 `(`, 닫는 소괄호 `)`, 여는 대괄호 `[`, 닫는 대괄호 `]`, 그리고 기타 문자들로 이루어져 있습니다.
- 입력의 끝은 점 하나(`.`)로 표시됩니다.

**출력 조건:**
- 각 줄마다 해당 문자열이 균형잡힌 문자열이면 "yes"를, 아니면 "no"를 출력합니다.

## 접근 방법
이 문제를 해결하기 위해 스택 자료구조를 사용합니다. 스택을 이용하여 여는 괄호를 저장하고, 닫는 괄호를 만났을 때 스택의 상단과 짝을 맞추는 방법을 사용합니다. 이 접근 방법은 괄호의 짝을 맞추는 데 효과적이며, 시간 복잡도는 O(n)입니다. 여기서 n은 문자열의 길이입니다.

## 문제 해결 과정

1. **함수 정의 및 초기화:**
   - `is_balanced_string(s)`라는 함수를 정의하여 문자열 `s`가 균형잡힌 문자열인지 확인합니다.
   - 함수 내에서 스택을 초기화하여 여는 괄호를 저장합니다.
   - 닫는 괄호와 여는 괄호를 매핑하는 딕셔너리를 정의합니다. 이는 닫는 괄호를 만났을 때 스택의 상단과 비교하기 위함입니다.

2. **각 문자 처리:**
   - 문자열 `s`의 각 문자를 반복문을 통해 처리합니다.
   - 문자가 여는 괄호인 경우, 스택에 추가합니다.
   - 문자가 닫는 괄호인 경우:
     - 스택이 비어있거나 스택의 상단이 해당 닫는 괄호에 대응하는 여는 괄호가 아닌 경우, 균형이 맞지 않으므로 "no"를 반환합니다.
     - 그렇지 않으면 스택의 상단을 제거하여 짝을 맞춥니다.

3. **최종 확인:**
   - 모든 문자를 처리한 후, 스택이 비어있는지 확인합니다.
   - 스택이 비어있지 않은 경우, 여는 괄호가 남아 있으므로 균형잡힌 문자열이 아니며 "no"를 반환합니다.
   - 스택이 비어있는 경우, 모든 괄호가 짝을 이루었으므로 "yes"를 반환합니다.

4. **입력 처리 및 결과 출력:**
   - 표준 입력으로부터 모든 데이터를 읽어옵니다.
   - 입력 데이터를 줄 단위로 분할합니다.
   - 각 줄에 대해 반복문을 통해 문자열을 처리합니다.
   - 줄이 점 하나(`.`)인 경우, 입력의 끝을 의미하므로 반복문을 탈출합니다.
   - 각 줄에 대해 `is_balanced_string` 함수를 호출하여 결과를 확인하고 이를 출력합니다.

## 코드 구현
```python
# 주어진 문자열 `s`가 균형잡힌 문자열인지 확인하는 함수 정의
def is_balanced_string(s):
    # 스택을 초기화하여 여는 괄호를 저장
    stack = []
    # 닫는 괄호와 여는 괄호를 매핑하는 딕셔너리 정의
    pairs = {')': '(', ']': '['}
    
    # 문자열 `s`의 각 문자에 대해 반복
    for char in s:
        # 문자가 여는 괄호인 경우
        if char in '([':
            # 스택에 여는 괄호를 추가
            stack.append(char)
        # 문자가 닫는 괄호인 경우
        elif char in ')]':
            # 스택이 비어있거나 스택의 상단이 대응하는 여는 괄호가 아닌 경우
            if not stack or stack[-1] != pairs[char]:
                # 균형이 맞지 않으므로 "no" 반환
                return "no"
            # 스택의 상단을 제거하여 짝을 맞춤
            stack.pop()
    
    # 모든 문자를 처리한 후 스택이 비어있지 않은 경우
    if stack:
        # 여는 괄호가 남아 있으므로 "no" 반환
        return "no"
    # 스택이 비어있는 경우 균형잡힌 문자열이므로 "yes" 반환
    return "yes"

# 표준 입력에서 데이터를 읽어옴
import sys
input = sys.stdin.read

# 입력 데이터를 줄 단위로 분할
data = input().split('\n')

# 각 줄에 대해 반복
for line in data:
    # 줄이 점 하나(".")인 경우
    if line == '.':
        # 입력 종료를 의미하므로 반복문 탈출
        break
    # 현재 줄이 균형잡힌 문자열인지 확인하고 결과 출력
    print(is_balanced_string(line))
