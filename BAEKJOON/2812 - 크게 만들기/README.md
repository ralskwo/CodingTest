# 크게 만들기 문제 풀이 및 설명

<https://www.acmicpc.net/problem/2812>

<https://mayquartet.com/python-파이썬-백준-2812-크게-만들기/>

## 문제 이해

이 문제는 N자리 숫자에서 K개의 숫자를 제거하여 가장 큰 수를 만드는 것이 목표입니다. 따라서, 우리가 고민해야 할 것은 "어떻게 하면 제거한 후 남은 숫자들의 순서를 유지하면서 가장 큰 수를 만들 수 있을까?"입니다. 숫자를 제거할 때는, 숫자의 상대적 위치를 바꾸지 않고 일부 숫자들을 제거하는 것이기 때문에, 앞에 위치한 작은 숫자들을 제거해 더 큰 수가 앞에 오도록 하는 것이 중요합니다. 이 문제의 핵심은 최대한 큰 수를 남길 수 있도록 K개의 숫자를 선택적으로 제거하는 방법입니다.

## 입출력 조건

- 입력은 첫 줄에 두 개의 정수 `N`과 `K`가 주어집니다. 여기서 `N`은 전체 숫자의 자리 수를 나타내며, `K`는 제거해야 하는 숫자의 개수를 나타냅니다. 입력 조건은 `1 ≤ K < N ≤ 500,000`입니다.
- 둘째 줄에는 `N`자리의 숫자가 문자열 형태로 주어집니다. 이 숫자는 0으로 시작하지 않으며, 각 자리는 하나의 숫자로 구성됩니다.
- 출력은 입력된 숫자에서 `K`개의 숫자를 제거했을 때 얻을 수 있는 가장 큰 수를 하나의 문자열로 출력해야 합니다. 예를 들어, 입력이 `N = 4`, `K = 2`, `number = "1924"`인 경우, 출력은 `94`가 되어야 합니다.

## 접근 방식

이 문제는 스택을 사용하는 방법으로 해결할 수 있습니다. 스택을 이용하면 현재 수와 비교하면서 앞에 있는 작은 수들을 제거하여 최대한 큰 수를 남기는 방식으로 문제를 풀 수 있습니다. 구체적인 접근 방식은 다음과 같습니다:

- **스택 사용**: 스택은 후입선출(LIFO) 구조이기 때문에, 현재 숫자를 스택에 쌓기 전에 스택의 가장 위에 있는 숫자와 비교할 수 있습니다. 이를 통해, 앞에 있는 작은 숫자를 쉽게 제거할 수 있습니다.
- **비교 및 제거**: 각 자릿수를 하나씩 확인하면서 스택의 맨 위에 있는 숫자와 비교합니다. 만약 스택의 마지막 숫자가 현재 숫자보다 작다면, 해당 숫자를 스택에서 제거하고 `K`를 1 감소시킵니다. 이는 더 큰 숫자를 남기기 위해 앞의 작은 숫자를 제거하는 과정입니다.
- **남은 `K` 처리**: 모든 숫자를 확인했는데도 `K`개의 숫자를 다 제거하지 못했다면, 남은 `K`만큼 스택의 마지막 숫자들을 제거해야 합니다. 이는 작은 숫자들을 우선적으로 제거했기 때문입니다.
- **결과 생성**: 스택에 남아 있는 숫자들을 이어붙여 하나의 문자열로 만들어 반환합니다. 스택에 남은 숫자들이 바로 가장 큰 수를 형성합니다.

## 풀이 과정

1. **스택 초기화**: 결과를 저장할 빈 스택을 생성합니다. 이 스택은 현재까지 확인한 숫자 중에서 제거하지 않고 유지해야 할 숫자들을 저장합니다.
2. **숫자 순회 및 스택 처리**:
   - 입력된 숫자의 각 자릿수를 하나씩 순회하면서 스택에 넣을지, 아니면 제거할지를 결정합니다.
   - 스택이 비어있지 않고 `K`가 0보다 크며, 스택의 마지막 숫자가 현재 숫자보다 작으면, 더 큰 수를 만들기 위해 스택의 마지막 숫자를 제거합니다. 제거할 때마다 `K`를 1 감소시킵니다.
   - 현재 숫자를 스택에 추가합니다. 이는 앞의 작은 숫자들이 제거된 후에 가장 유리한 위치에 있는 숫자를 유지하는 과정입니다.
3. **남은 `K` 처리**:
   - 모든 자릿수를 확인한 후에도 `K`가 남아 있다면, 이는 더 제거할 수 있는 숫자가 있다는 의미입니다.
   - 이 경우, 스택의 뒤에서부터 `K`개의 숫자를 제거합니다. 이는 제거 가능한 숫자를 최대한 뒤에서 제거하여 큰 수를 유지하기 위함입니다.
4. **결과 생성 및 반환**:
   - 스택에 남아 있는 숫자들을 `join` 함수를 사용하여 문자열로 변환합니다. 이는 스택에 남아 있는 숫자들이 제거되지 않고 유지된 숫자들이기 때문에 가장 큰 수를 형성합니다.
   - 최종적으로, 이 문자열을 출력하거나 반환하여 문제에서 요구하는 답을 제공합니다.

이 방법은 각 숫자를 스택에 넣고 빼는 과정이기 때문에 시간 복잡도가 `O(N)`입니다. 입력의 최대 크기가 `500,000`까지 주어지기 때문에, 이 알고리즘은 효율적으로 문제를 해결할 수 있습니다.

## 코드 구현

```python
def make_largest_number(N, K, number):
    # 결과를 저장할 스택을 초기화합니다.
    stack = []
    # 입력된 숫자의 각 자릿수를 순서대로 처리합니다.
    for num in number:
        # 스택이 비어있지 않고, 아직 제거할 수 있는 수가 남아 있으며,
        # 스택의 마지막 수가 현재 수보다 작으면 스택에서 제거합니다.
        while K > 0 and stack and stack[-1] < num:
            stack.pop()  # 스택의 마지막 수를 제거하여 더 큰 수를 만들 수 있도록 합니다.
            K -= 1  # 제거한 수의 개수를 1 줄입니다.
        # 현재 수를 스택에 추가합니다.
        stack.append(num)

    # 모든 수를 처리한 후에도 K가 남아 있으면, 뒤에서부터 K개의 수를 제거합니다.
    if K > 0:
        stack = stack[:-K]

    # 스택에 남아있는 숫자들을 이어붙여서 하나의 문자열로 반환합니다.
    return ''.join(stack)

# 첫째 줄에서 N과 K를 입력받고 정수로 변환합니다.
N, K = map(int, input().split())
# 둘째 줄에서 N자리 숫자를 입력받습니다.
number = input().strip()

# K개의 수를 제거했을 때 얻을 수 있는 가장 큰 수를 출력합니다.
print(make_largest_number(N, K, number))
```
