# 신입 사원 문제 풀이 및 설명

<https://www.acmicpc.net/problem/1946>

<https://mayquartet.com/python-백준-1946-신입-사원/>

## 문제 이해

이 문제는 신입 사원을 채용하는 과정에서 지원자의 서류 심사 성적과 면접 성적을 기준으로 선발 기준을 설정하는 상황을 다룹니다. 회사에서는 "최고만을 지향"하는 인재만을 선발하려고 하며, 이때 **다른 지원자보다 서류와 면접 성적 모두 낮은 지원자는 자동으로 탈락**하게 됩니다. 따라서 **최소한 한 가지 성적은 다른 모든 지원자보다 낮지 않은 경우**에만 선발이 가능합니다. 이를 통해 선발할 수 있는 최대 인원을 계산하는 것이 문제의 핵심입니다.

따라서 문제를 해결하기 위해 우리는 각 지원자 간의 서류 성적과 면접 성적을 비교하여 누가 선발될 수 있는지를 판단해야 합니다. 예를 들어, 서류 성적이 높은 지원자가 면접 성적에서도 다른 지원자보다 좋다면 그 지원자는 탈락하지 않습니다. 반면, 서류와 면접 성적 모두 다른 지원자에게 밀린다면 선발될 수 없습니다. 문제의 목적은 이러한 조건을 만족시키는 최대 인원을 찾는 것입니다.

## 입출력 조건

- **입력**:
  - 첫 번째 줄에는 테스트 케이스의 개수 `T`가 주어집니다. (`1 ≤ T ≤ 20`)
  - 각 테스트 케이스의 첫 번째 줄에는 지원자의 숫자 `N`이 주어집니다. (`1 ≤ N ≤ 100,000`)
  - 이후 `N`개의 줄에 걸쳐 각 지원자의 서류 심사 성적과 면접 성적 순위가 공백을 두고 주어집니다. 순위는 1위부터 N위까지 결정되며 동석차 없이 고유합니다.
- **출력**:
  - 각 테스트 케이스에 대해 선발할 수 있는 신입사원의 최대 인원을 한 줄에 하나씩 출력합니다.

## 접근 방식

이 문제는 **그리디 알고리즘**과 **정렬**을 사용하여 해결할 수 있습니다. 문제의 핵심 조건인 "서류와 면접 순위 중 하나는 반드시 높아야 함"을 활용하여 최대로 많은 인원을 선발할 수 있는 전략을 세워보겠습니다.

1. **서류 성적을 기준으로 정렬**:
   - 지원자 목록을 서류 순위 기준으로 오름차순 정렬하면, 더 높은 서류 순위를 가진 지원자들에 대해 면접 순위만 비교하여 선발 여부를 판단할 수 있습니다. 이렇게 하면 면접 순위만 고려해도 모든 지원자 간의 조건을 충족하게 됩니다.
2. **그리디 알고리즘을 적용한 선발**:
   - 정렬된 리스트에서 첫 번째 지원자는 자동으로 선발됩니다. 이는 첫 번째 지원자의 서류 성적이 가장 높기 때문입니다.
   - 이후 지원자들은 앞서 선발된 지원자의 면접 순위와 비교하여 면접 순위가 더 높다면 선발할 수 있습니다. 면접 순위가 더 낮다면, 앞의 지원자보다 모든 성적이 낮다는 의미이므로 탈락하게 됩니다.
3. **최대 인원 계산**:
   - 각 지원자마다 면접 순위를 비교하면서 선발된 지원자의 수를 증가시켜 나가면, 최종적으로 선발할 수 있는 최대 인원을 얻을 수 있습니다.

<https://mayquartet.com/algorithm-알고리즘-greedy-그리디-알고리즘탐욕법-이해하기/>

## 풀이 과정

1. **입력 데이터 읽기**:

   - 첫 줄에서 테스트 케이스 수 `T`를 읽습니다.
   - 이후 각 테스트 케이스에 대해 지원자 수 `N`과 각 지원자의 서류 및 면접 성적 순위를 읽어들입니다.
   - 각 지원자의 성적 정보는 `(서류 순위, 면접 순위)` 형태의 튜플로 리스트에 저장합니다.

2. **서류 성적 기준으로 정렬**:

   - `candidates.sort()`를 사용하여 서류 성적을 기준으로 오름차순 정렬합니다.
   - 서류 순위를 기준으로 정렬하면 면접 순위만 고려하여 선발 여부를 결정할 수 있습니다. 즉, 서류 순위가 낮은(좋은) 순서대로 탐색하면서 면접 순위만 비교하여 결정할 수 있게 됩니다.

3. **그리디 알고리즘을 적용한 최대 인원 계산**:
   - 첫 번째 지원자는 자동으로 선발되므로 `max_count`를 1로 설정합니다.
   - 첫 번째 지원자의 면접 순위를 `min_interview_rank`로 저장하여 면접 순위 기준값으로 설정합니다.
   - 두 번째 지원자부터 마지막 지원자까지 순회하며 각 지원자의 면접 순위를 `min_interview_rank`와 비교합니다.
     - 만약 현재 지원자의 면접 순위가 `min_interview_rank`보다 낮다면, 선발할 수 있습니다. 이 경우 `max_count`를 1 증가시키고, `min_interview_rank`를 현재 지원자의 면접 순위로 갱신합니다.
     - 면접 순위가 `min_interview_rank`보다 높다면 선발하지 않습니다. 이 경우 서류와 면접 순위 모두 이전 지원자보다 떨어지는 것이기 때문에 선발할 수 없습니다.
4. **결과 출력**:
   - 모든 테스트 케이스에 대해 최대 선발 인원 수를 계산한 후, 각 결과를 출력합니다.

## 코드 구현

```python
import sys
input = sys.stdin.read

def max_hires(candidates):
    # 서류 심사 성적 순위를 기준으로 지원자 목록을 오름차순 정렬
    candidates.sort()

    # 첫 번째 지원자는 무조건 선발되므로 최대 인원을 1로 초기화
    max_count = 1

    # 첫 번째 지원자의 면접 순위를 최소 면접 순위로 설정
    min_interview_rank = candidates[0][1]

    # 두 번째 지원자부터 마지막 지원자까지 순회하며 선발 여부 결정
    for i in range(1, len(candidates)):
        # 현재 지원자의 면접 순위가 이전까지의 최소 면접 순위보다 높으면 선발
        if candidates[i][1] < min_interview_rank:
            # 선발된 인원수를 1 증가
            max_count += 1
            # 최소 면접 순위를 현재 지원자의 면접 순위로 갱신
            min_interview_rank = candidates[i][1]

    # 선발된 최대 인원수를 반환
    return max_count

def main():
    # 전체 입력 데이터를 줄 단위로 읽어 리스트로 변환
    data = input().splitlines()

    # 첫 줄의 테스트 케이스 개수를 정수로 변환하여 저장
    T = int(data[0])

    # 현재 읽고 있는 줄 번호를 나타내는 인덱스 변수 초기화
    idx = 1

    # 각 테스트 케이스의 결과를 저장할 리스트 초기화
    results = []

    # 테스트 케이스 개수만큼 반복
    for _ in range(T):
        # 각 테스트 케이스의 첫 줄에 있는 지원자 수를 정수로 변환하여 저장
        N = int(data[idx])

        # 지원자들의 서류 심사 성적과 면접 순위를 저장할 리스트 초기화
        candidates = []

        # 지원자 수만큼 반복하며 지원자의 성적 정보를 읽어옴
        for j in range(1, N + 1):
            # 지원자의 서류 심사 성적과 면접 순위를 공백을 기준으로 분리하여 정수로 변환
            doc_rank, interview_rank = map(int, data[idx + j].split())
            # 변환된 성적 정보를 튜플로 저장하여 candidates 리스트에 추가
            candidates.append((doc_rank, interview_rank))

        # 각 테스트 케이스의 최대 선발 인원을 계산하여 결과 리스트에 추가
        results.append(max_hires(candidates))

        # 다음 테스트 케이스로 이동하기 위해 인덱스를 현재 케이스의 줄 수만큼 증가
        idx += N + 1

    # 모든 테스트 케이스에 대해 최대 선발 인원을 한 줄씩 출력
    for result in results:
        print(result)

# 이 모듈이 직접 실행될 때만 main 함수를 호출
if __name__ == "__main__":
    main()
```
